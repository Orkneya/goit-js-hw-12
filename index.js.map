{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-function.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = '48810135-3fc2af65eea4986756bc51882';\nconst BASE_URl=\"https://pixabay.com/api/?\";\n\n export function searchImging(name){\n  const params = new URLSearchParams({\n    key : API_KEY ,\n    q : name,\n    image_type : \"photo\",\n    orientation : \"horizontal\",\n    safesearch : true,\n    page : 1,\n    per_page :20,\n  });\n  return axios.get(`${BASE_URl}${params}`)\n  }","// Описаний у документації\nimport SimpleLightbox from \"simplelightbox\";\n// Додатковий імпорт стилів\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport { refs } from \"../main\";\n\nexport function renderItems(users) {\n  const lightbox = new SimpleLightbox('.gallery a');\n  const markup = users\n    .map((user) => {\n      return `<li class=\"gallery-item\">\n      <a class=\"gallery-link\" href=\"${user.largeImageURL}\">\n      <img\n        class=\"gallery-image\"\n        src=\"${user.webformatURL}\"\n        data-source=\"${user.largeImageURL}\"\n        alt=\"${user.tags.split(',',3)}\"\n      />\n      </a>\n        <div class=\"img-info\">\n            <span class=\"img-span\"> Likes: <br> ${user.likes}</span>\n            <span class=\"img-span\"> Views: <br> ${user.views}</span>\n            <span class=\"img-span\"> Comments: <br> ${user.comments}</span>\n            <span class=\"img-span\"> Downloads: <br> ${user.downloads}</span>\n        </div>\n      </li>`;\n    })\n    .join(\"\");\n\n  refs.container.insertAdjacentHTML(\"afterbegin\",markup);\n\n  lightbox.refresh(); \n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { searchImging } from \"./js/pixabay-api\";\nimport { renderItems } from \"./js/render-function\";\nexport const refs={\n  container : document.querySelector(\".gallery\"),\n  formSubmit: document.querySelector(\".form\"),\n  loader : document.querySelector(\".loader\"),\n  btnChange :document.querySelector(\".btn_down\"),\n}\nconst mes1 =\"Fill please all fields!\";\nconst mes2 = \"Sorry, there are no images matching your search query. Please, try again!\";\nlet inputValue = \"\";\n\nrefs.formSubmit.addEventListener('submit', onFormSubmit);\nasync function onFormSubmit(e){\n  e.preventDefault();\n  inputValue = e.currentTarget.elements.inpImg.value;\n  if (!inputValue.trim()){\n    showError(mes1);\n    return console.log(mes1);\n  }\n    refs.loader.style.display = 'block';\n    searchImging(inputValue)\n    .then(response=>{\n      if (response.data.hits.length === 0){\n        refs.container.innerHTML = '';\n        showError(mes2);\n        refs.loader.style.display = 'none';\n        return console.log(mes2);\n        // hiddenBtm();\n      } \n      renderItems(response.data.hits);\n      refs.loader.style.display = 'none';\n      // showBtm();\n    })\n    .catch(error=>{\n      showError(mes2);\n      return console.log(\"Error:\", error);\n    });\n    e.target.reset();\n};\n\nexport function showError(msg){\n  iziToast.show({\n        message: msg,\n        position:\"topRight\",\n        messageColor: 'white',\n        backgroundColor: \"#cb4335\",\n        });\n}\nfunction showBtm(){\n  refs.btnChange.classList.remove(\"hidden\");\n}\nfunction hiddenBtm(){\n  refs.btnChange.classList.add(\"hidden\");\n}"],"names":["API_KEY","BASE_URl","searchImging","name","params","axios","renderItems","users","lightbox","SimpleLightbox","markup","user","refs","mes1","mes2","inputValue","onFormSubmit","e","showError","response","error","msg","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAS,4BAEP,SAASC,EAAaC,EAAK,CACjC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAMJ,EACN,EAAIG,EACJ,WAAa,QACb,YAAc,aACd,WAAa,GACb,KAAO,EACP,SAAU,EACd,CAAG,EACD,OAAOE,EAAM,IAAI,GAAGJ,CAAQ,GAAGG,CAAM,EAAE,CACzC,CCVO,SAASE,EAAYC,EAAO,CACjC,MAAMC,EAAW,IAAIC,EAAe,YAAY,EAC1CC,EAASH,EACZ,IAAKI,GACG;AAAA,sCACyBA,EAAK,aAAa;AAAA;AAAA;AAAA,eAGzCA,EAAK,YAAY;AAAA,uBACTA,EAAK,aAAa;AAAA,eAC1BA,EAAK,KAAK,MAAM,IAAI,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA,kDAIaA,EAAK,KAAK;AAAA,kDACVA,EAAK,KAAK;AAAA,qDACPA,EAAK,QAAQ;AAAA,sDACZA,EAAK,SAAS;AAAA;AAAA,YAG/D,EACA,KAAK,EAAE,EAEVC,EAAK,UAAU,mBAAmB,aAAaF,CAAM,EAErDF,EAAS,QAAO,CAClB,CC5BO,MAAMI,EAAK,CAChB,UAAY,SAAS,cAAc,UAAU,EAC7C,WAAY,SAAS,cAAc,OAAO,EAC1C,OAAS,SAAS,cAAc,SAAS,EACzC,UAAW,SAAS,cAAc,WAAW,CAC/C,EACMC,EAAM,0BACNC,EAAO,4EACb,IAAIC,EAAa,GAEjBH,EAAK,WAAW,iBAAiB,SAAUI,CAAY,EACvD,eAAeA,EAAaC,EAAE,CAG5B,GAFAA,EAAE,eAAgB,EAClBF,EAAaE,EAAE,cAAc,SAAS,OAAO,MACzC,CAACF,EAAW,OACd,OAAAG,EAAUL,CAAI,EACP,QAAQ,IAAIA,CAAI,EAEvBD,EAAK,OAAO,MAAM,QAAU,QAC5BV,EAAaa,CAAU,EACtB,KAAKI,GAAU,CACd,GAAIA,EAAS,KAAK,KAAK,SAAW,EAChC,OAAAP,EAAK,UAAU,UAAY,GAC3BM,EAAUJ,CAAI,EACdF,EAAK,OAAO,MAAM,QAAU,OACrB,QAAQ,IAAIE,CAAI,EAGzBR,EAAYa,EAAS,KAAK,IAAI,EAC9BP,EAAK,OAAO,MAAM,QAAU,MAE7B,CAAA,EACA,MAAMQ,IACLF,EAAUJ,CAAI,EACP,QAAQ,IAAI,SAAUM,CAAK,EACnC,EACDH,EAAE,OAAO,MAAO,CACpB,CAEO,SAASC,EAAUG,EAAI,CAC5BC,EAAS,KAAK,CACR,QAASD,EACT,SAAS,WACT,aAAc,QACd,gBAAiB,SACzB,CAAS,CACT"}